{% extends "base.html" %}
{% load static %}
{% block title %}üì¢ {{ petition.title }}{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-12 col-lg-10">
            <div class="card shadow-lg border-0 rounded-4">
                <div class="card-body p-5">

                    {% include "petitions/partials/_petition_header.html" %}
                    <hr class="my-4">
                    {% include "petitions/partials/_petition_support.html" %}
                    {% include "petitions/partials/_petition_actions.html" %}
                    {% include "petitions/partials/_support_button.html" %}

                    {% if request.user == petition.creator or request.user.role in "director admin" %}
                        <form method="post" action="{% url 'petition_delete' petition.pk %}"
                              onsubmit="return confirm('‚ùó –í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü—é –ø–µ—Ç–∏—Ü—ñ—é?');"
                              class="mt-4">
                            {% csrf_token %}
                            {% if request.user == petition.creator %}
                                <button type="submit" class="btn btn-danger rounded-pill">
                                    üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –ø–µ—Ç–∏—Ü—ñ—é
                                </button>
                            {% endif %}
                        </form>
                    {% endif %}

                    <hr class="my-4">
                    {% include "petitions/partials/_comments.html" %}

                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'petitions/js/petition.js' %}"></script>
<style>
.fade-in {
    animation: fadeIn 0.5s ease-in-out;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>
{% endblock %}
